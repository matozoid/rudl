<html>
<head>
<title>How to install RUDL</title>
<link rel=stylesheet type='text/css' href='rudl.css'>
</head
<body>
<H1>How to get and install RUDL</H1>

<H2>Linux</H2>

You'll have to build it from source, as described below.


<H2>Windows</H2>

This chapter may be outdated at any time.


<h3>Binary</h3>

This explains how to get RUDL installed on Windows.
Developers are advised to create a package with their program, SDL, and RUDL in it
so average users won't have to install RUDL seperately.

<ol>
    <li>Grab <A HREF="http://rubyinstaller.sourceforge.net/">One Click Ruby 1.8.x Installer</A>
    if you don't have it.
    Install it.
    It might be necessary to reboot.
    <li>Alternatively, grab <A HREF="http://www.dm4lab.to/~usa/ruby/index_en.html"> U. Nakamura's Visual C Ruby</A>.
    It is reported to work.
    <li>Grab the latest binary RUDL setup version from
    <a href='http://sourceforge.net/project/showfiles.php?group_id=42958'>the RUDL SourceForge files page</a>
    <li>Unzip RUDL to a place you like.
    <li>Run install-on-windows.rb.
    We suggest copying the dll's to the Ruby bin dir when it asks for that.
    <li>Try one of the samples in the RUDL/samples directory.
    <li>That's it.
    If it doesn't run, contact us.
</ol>

<p>If you want to use another version of Ruby, you'll get trouble using RUDL.
This is because the RUDL.so library is statically linked with msvcrt-ruby18.lib (or something of that kind) and that lib
changes a lot between Ruby versions.
This can be solved by downloading a lib only RUDL, if it exists for your version.
(If it doesn't, it can be created on request)
You can put the RUDL.so in the directory where you unpacked the RUDL setup and rerun install-on-windows.

<h3>Source</h3>

<p>Compiling from source could be useful for creating a smaller RUDL library that depends on less libraries.

<p>Source is now compiled with the Microsoft Visual C 6 command line tools.
They can be set up with the "vcvars32" batchfile in VC's bin directory, 
which sets up Visual Studio's environment variables.
You need to add RUDL's lib and include to the LIB and INCLUDE in the batch file.
Alternatively, you can modify the environment variables from the Windows GUI or another batchfile,
as long as the result looks like the following:

<p><b>Windows environment variables example</b></p>

<p>With Visual Studio in <code>C:\Program Files\VStudio\</code>
and the include and lib dirs beneath the RUDL dir <code>C:\rudl\</code>

<ul><code>
<li>include=C:\Program Files\VStudio\VC98\Include;C:\rudl\include
<li>lib=C:\Program Files\VStudio\VC98\Lib;C:\rudl\lib
<li>MSDevDir=C:\Program Files\VStudio\Common\MSDev98
<li>Path=C:\Program Files\VStudio\Common\MSDev98\BIN;C:\Program Files\VStudio\VC98\BIN;C:\Program Files\VStudio\Common\MSDev98\TOOLS
</code></ul>

<p>Proceed with the build instructions below. If you don't want to download
the latest SDL libraries, you can use the provided includes and libs, and the DLLs from
the RUDL setup archive, and start from &quot;ruby extconf.rb&quot;.

<p>If you download the libraries yourself, you should
probably copy the binaries and includes into the corresponding RUDL directories.

<h3>Creating an installable version of your project</h3>

<p>... to do.

<h2>Building from source</h2>

<p><ol>
    <li>
        Download the latest RUDL source package from
        <a href='http://sourceforge.net/project/showfiles.php?group_id=42958'>the RUDL SourceForge files page</a>
    <li>
        Grab the developer versions of the following libraries for your platform:
        <ul>
            <li><a href="http://www.libsdl.org/download-1.2.php">SDL</a>
            <li><a href="http://www.ferzkopp.net/Software/SDL_gfx-2.0/">SDL_gfx</a>
            <li><a href="http://www.libsdl.org/projects/SDL_image/">SDL_image</a>
            <li><a href="http://www.libsdl.org/projects/SDL_mixer/">SDL_mixer</a>
            <li><a href="http://www.libsdl.org/projects/SDL_ttf/">SDL_ttf</a>
            <li><a href='http://www.libsdl.org/projects/SDL_net'>SDL_net</a>
            <li><a href='http://www.icculus.org/smpeg/'>smpeg</a>
            <li><a href='http://www.freetype.org/'>freetype</a> (If Freetype 2 doesn't work, try 1)
        </ul>
        (You may need to download or compile the user binaries as well, if they're not included in the devel package.)

        <p>Note that RUDL doesn't <I>need</I> everything, only the core SDL library.
        <p>The libraries must be installed where the compiler can find them. Sometimes the rpm's have
        created symlinks from e.g. /usr/lib/libSDL.so to a nonexisting version, so you may need to fix them manually.
    <li><code>ruby extconf.rb</code> in the RUDL root dir will look for the above-mentioned libraries
    and create a makefile with the libraries it finds.
    <p>If it can't find some library that you have installed, you can try editing extconf.rb
    and uncommenting the $DEBUG flag. Make sure that the library binaries and includes are in the right locations.
    <li><code>make</code>
    <li>And now, as root:
    <code>make install</code>
</ol>
That's it. You can now try the samples.
</body>
</html>
